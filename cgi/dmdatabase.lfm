object datamodule1: Tdatamodule1
  OnCreate = DataModuleCreate
  OldCreateOrder = False
  Height = 315
  HorizontalOffset = 820
  VerticalOffset = 320
  Width = 410
  object PGConnection1: TPQConnection
    Connected = False
    LoginPrompt = False
    DatabaseName = 'tir'
    KeepConnection = False
    Params.Strings = (
      'port=5434'
    )
    Password = 'postgres'
    Transaction = SQLTransaction1
    UserName = 'postgres'
    HostName = '127.0.0.1'
    LogEvents = []
    left = 48
    top = 40
  end
  object SQLTransaction1: TSQLTransaction
    Active = False
    Database = PGConnection1
    left = 48
    top = 112
  end
  object qryStudies: TSQLQuery
    FieldDefs = <>
    Database = PGConnection1
    Transaction = SQLTransaction1
    SQL.Strings = (
      'select'
      'count(*) over() as TotalRecords,'
      'st.idstudy,'
      'st.studydate,'
      's.status,'
      'p.idpatient as "Patient_IdPatient",'
      'p.firstname as "Patient_FirstName",'
      'p.lastname as "Patient_LastName",'
      'p.sex as "Patient_Sex",'
      'p.birthdate as "Patient_BirthDate",'
      'pf.idprofessional as "Perform_IdProfessional",'
      'pf.firstname as "Perform_FirstName",'
      'pf.lastname as "Perform_LastName",'
      'rf.firstname as "Report_FirstName",'
      'rf.idprofessional as "Report_IdProfessional",'
      'rf.lastname as "Report_LastName"'
      'from study st'
      'join patient p on st.idpatient = p.idpatient'
      'join status s on st.idstatus = s.idstatus'
      'join professional pf on st.idperformingphysician = pf.idprofessional'
      'join professional rf on st.idprimaryinterpreterphysician = rf.idprofessional'
    )
    Params = <>
    ParseSQL = False
    left = 167
    top = 65
  end
  object qryStudy: TSQLQuery
    FieldDefs = <>
    Database = PGConnection1
    Transaction = SQLTransaction1
    SQL.Strings = (
      'select'
      'count(*) over() as TotalRecords,'
      'st.idstudy,'
      'st.studydate,'
      's.status as "Status",'
      'st.idstatus as "IdStatus",'
      'p.idpatient as "Patient_IdPatient",'
      'p.firstname as "Patient_FirstName",'
      'p.lastname as "Patient_LastName",'
      'p.sex as "Patient_Sex",'
      'p.birthdate as "Patient_BirthDate",'
      'pf.idprofessional as "Perform_IdProfessional",'
      'pf.firstname as "Perform_FirstName",'
      'pf.lastname as "Perform_LastName",'
      'rf.firstname as "Report_FirstName",'
      'rf.idprofessional as "Report_IdProfessional",'
      'rf.lastname as "Report_LastName",'
      'st.report as "Report"'
      'from study st'
      'join patient p on st.idpatient = p.idpatient'
      'join status s on st.idstatus = s.idstatus'
      'join professional pf on st.idperformingphysician = pf.idprofessional'
      'join professional rf on st.idprimaryinterpreterphysician = rf.idprofessional'
      'where st.idstudy = :IdStudy'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'IdStudy'
        ParamType = ptInput
      end>
    ParseSQL = False
    left = 167
    top = 136
  end
  object qryStatuses: TSQLQuery
    FieldDefs = <>
    Database = PGConnection1
    Transaction = SQLTransaction1
    SQL.Strings = (
      'select'
      ' IdStatus,'
      ' Status'
      'from status'
    )
    Params = <>
    ParseSQL = False
    left = 48
    top = 208
  end
  object qryTemplates: TSQLQuery
    FieldDefs = <>
    Database = PGConnection1
    Transaction = SQLTransaction1
    SQL.Strings = (
      'select'
      'count(*) over() as TotalRecords,'
      'IdTemplate,'
      'Code,'
      'Name,'
      'Template'
      'from templates'
    )
    Params = <>
    ParseSQL = False
    left = 256
    top = 72
  end
  object qryTemplate: TSQLQuery
    FieldDefs = <>
    Database = PGConnection1
    Transaction = SQLTransaction1
    SQL.Strings = (
      'select'
      '  idtemplate as "IdTemplate",'
      '  code as "Code",'
      '  name as "Name",'
      '  template as "Template"'
      'from templates'
      'where idtemplate = :IdTemplate'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'IdTemplate'
        ParamType = ptInput
      end>
    ParseSQL = False
    left = 256
    top = 144
  end
  object qryPatients: TSQLQuery
    FieldDefs = <>
    Database = PGConnection1
    Transaction = SQLTransaction1
    SQL.Strings = (
      'select'
      '  count(*) over() as TotalRecords,'
      '  idpatient as "IdPatient",'
      '  firstname as "FirstName",'
      '  lastname as "LastName",'
      '  birthdate as "BirthDate",'
      '  sex as "Sex"'
      'from patient'
      ''
    )
    Params = <>
    ParseSQL = False
    left = 160
    top = 216
  end
end
