<html>
  <script src="recorder.js"></script>
  <script>
    function timecode(ms) {
      var hms = {
        h: Math.floor(ms/(60*60*1000)),
        m: Math.floor((ms/60000) % 60),
        s: Math.floor((ms/1000) % 60)
      };
      var tc = []; // Timecode array to be joined with '.'

      if (hms.h > 0) {
        tc.push(hms.h);
      }

      tc.push((hms.m < 10 && hms.h > 0 ? "0" + hms.m : hms.m));
      tc.push((hms.s < 10 ? "0" + hms.s : hms.s));

      return tc.join(':');
    }

    initAudio = function(){
        Recorder.initialize({
          workerPath: "recorderWorker.js",
          swfSrc: "recorder.swf"
        });
    }

    startRecording = function(){
        Recorder.record({
          start: function(){
            //alert("recording starts now. press stop when youre done. and then play or upload if you want.");
          },
          progress: function(milliseconds){
            document.getElementById("time").innerHTML = timecode(milliseconds);
          }
        });
    };

    stopRecording = function(){
      Recorder.stop();
    };

    saveAudio = function(){
        Recorder.upload({
          url: "/cgi-bin/cgi1/testupload/myfile.wav",
          success: function(){
            alert("your file was uploaded!");
          }
        });
    };
  </script > 

<body>
  Recorder.js test<br><br>

  <div class="study-table" id="audioRecorder">
    <a href="#" onclick="initAudio()">INIT AUDIO</a><br><br>
    <a href="#" onclick="startRecording()">Record</a>
    <a href="#" onclick="stopRecording()">Stop</a>
    <span id="time">0:00</span><br>
    <a href="#" onclick="saveAudio()">Save</a>
  </div>

  <form action="/cgi-bin/cgi1/testupload/myfile.wav"
  enctype="multipart/form-data" method="post">
  <p>
  Type some text (if you like):<br>
  <input type="text" name="textline" size="30">
  </p>
  <p>
  Please specify a file, or a set of files:<br>
  <input type="file" name="datafile" size="40">
  </p>
  <div>
  <input type="submit" value="Send">
  </div>
  </form>
</body>
</html>
